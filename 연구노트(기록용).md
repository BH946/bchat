# 연구노트


형식 없이 마음대로 작성하는 구현 과정 기록용 노트

<br><br>

## 2024-09-06

ERD 생각. + 뤼튼 도움. 기능별 쿼리문 뤼튼 참고.

1. **User** 테이블
   - user_id (PK)
   - username
   - password
   - created_at
2. **ChatRoom** 테이블
   - room_id (PK)
   - room_name
   - created_at
3. **Message** 테이블
   - message_id (PK)
   - room_id (FK)
   - user_id (FK)
   - message_content
   - timestamp
4. **UserChatRoom** 테이블 (다대다 관계)
   - user_id (FK)
   - room_id (FK)

<br><br>

## 2024-09-03

젤 많이 참고코드 : https://velog.io/@skadnwls7896/JAVA-%EB%8B%A4%EC%A4%91-%EC%B1%84%ED%8C%85-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%A8#%EC%8B%A4%ED%96%89-%ED%99%94%EB%A9%B4
혹시나 채팅내역 스레드 나눈코드 필요하면 : https://ssons.tistory.com/50
자바 소켓 클래스 개념 : https://ssons.tistory.com/49
자바 tcp, udp 클래스 개념 : https://structuring.tistory.com/157

+) 정말 추후에 챗봇 추가(AI 캐릭터 봇) -> 지금 뤼튼에 있는거 추가할 생각. 걍 해보고 싶음.

스윙 플젝은 간단히 채팅 플젝.
멀티스레드 환경으로 구성 + 채팅은 tcp통신, 회원가입은 udp통신 + GUI는 스윙(중요한게 아님 디자인+코드는 GPT로)
-> 회원가입 부분 구이는 워드파일 참고
-> 그냥 자바 코드로만 진행! + DB는 반드시 오라클 사용해보기! 툴도 함께!(내 힘으로 ERD 구축하되 AI 검증은 받아보자.)
-> DB MyBatis 쓰자! DB 튜닝을 이걸로~!!! 다만 MyBatis 연습용인거임. 스윙플젝에 사실 MyBatis는 딱히..ㅜ 은행같이 복잡한 쿼리문 사용에 좋을 뿐.


해당 플젝은 금방 끝날 프로젝트. 그냥 토이프로젝트일 뿐.
하는 "목적"은 TCP,UDP 통신 + 멀티스레드 환경 직접 구성 이다~
항상 spring(웹)이든 python이든 http통신을 사용함으로써 실시간 통신은 해본적이 없었다.
이번엔 실시간 통신을 위해 TCP, UDP 통신을 사용한다! 
=> 물론, spring에도 tcp,udp 통신 지원 라이브러리 있다~ 어차피 자바인데 당연. tcp통신을 자바에선 자바의 소켓 라이브러리 사용이니.
=> 그럼 웹소켓은? 클라가 웹이면 웹소켓 사용! 우린 swing 쓸거니까 그냥 소켓 사용!

TCP는 1:1 양방향 통신이고,
UDP는 1:N 통신이며 전달 순서 보장 불가. 예로 들면, 대상이 정해지지 않은 라디오 또는 방송에서 사용된다. 
순간의 통신 오류 정도야 큰 문제가 없으며, 
대상이 정해지지 않으므로 중요하지 않은 데이터들을 전송할 때 사용된다.

개념적으론 OSI 7계층 생각해보면 http가 응용계층이고 하위가 TCP,UDP전송계층이라서 비슷한지 다른지 애매한 느낌이다.
이렇게 기억해두자 -> HTTP는 단기적인 TCP 커넥션을 하고 종료한다고.

참고) WebSocket(웹소켓) 통신은 클라이언트와 서버(브라우저와 서버)를 연결하고 실시간으로 통신이 가능하도록 하는 첨단 기술 (http는 실시간X. 물론 http polling 같은걸로 가능은 함)
HTTP 프로토콜 통신 도 결국 소켓 통신을 기반으로 한다. TCP 프로토콜 계층 위에 존재하는(응용 계층) HTTP 또한 소켓 통신을 기반으로 하고, IP와 Port 번호 등이 존재하는 TCP/IP 헤더들이 붙여져 메시지가 송수신된다.
다만 둘을 구분하는 이유는 HTTP 프로토콜 통신의 경우 한쪽에서만 요청에 대한 응답을 하는 웹 통신에 특화되어있기에, 또는 이러한 통신을 위해 일반적인 소켓 통신 매커니즘과 다르기 때문에 구분하는 것이다.
https://velog.io/@sangje112/http-vs-WebSocket-http-%ED%86%B5%EC%8B%A0%EA%B3%BC-WebSocket%EC%9D%98-%EC%9E%A5%EB%8B%A8%EC%A0%90
