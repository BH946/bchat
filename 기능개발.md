# bchat

참고 https://bh946.github.io/knowledge/CHECK_LIST_JAVA_CONVENTION/#%EA%B5%AC%EA%B8%80-%EC%9E%90%EB%B0%94-%EC%BB%A8%EB%B2%A4%EC%85%98

**체계적으로 기능 개발 기록**

다만, 테스트코드는 생략하고 빨리 구현하려함. Oracle, TCP, UDP, MyBatis 공부가 목적일 뿐..!

<br><br>

## 기능 목록 - 개발하면서...계속 수정..

예시 참고

- 당첨 번호를 입력 - InputLotto#answerNumber(), readAnswer()
  - 사용자가 잘못된 값을 입력하면 예외 발생 - IllegalArgumentException
  - 숫자 범위 예외 처리용 함수 - InputLotto#exceptNumberRange()

### 1. 사용자 등록

UDPServer#register()

연관 GUI도 기록. 괜찮.

<br>

### 2. 사용자 로그인

UDPServer#

### 3. 채팅방 생성

TCPServer#

### 4. 채팅방 참여

TCPServer#

### 5. 메시지 송수신

TCPServer#

### 6. 채팅 기록 저장 및 조회

db...?

### 7. 유저 목록 조회

### 8. 멀티스레딩 처리

<br><br>

## 요구사항 분석

### 1. 사용자 등록 및 로그인 기능

**사용자는 채팅에 참여하기 위해 계정을 생성하고 로그인을 해야 한다.**

#### 1-1. 사용자 등록

- 회원 가입 입력
  - 입력 정보: id, pw, nickname, name, col, email
  - id와 nickname **중복 검증** 필수
- **오라클 DB** 활용 - **UDP 통신** 활용
  - **Mybatis** 는 채팅 쪽 까지 끝나면 추가 고려.


<br>

#### 1-2. 사용자 로그인

- 로그인 정보 입력
  - 입력 정보: id, pw
  - id, pw **검증** 필수
- 오라클 DB 활용

<br>

### 2. 채팅방 생성 및 참여 기능

**사용자는 새로운 채팅방을 만들거나 기존 채팅방에 참여할 수 있어야 한다.**

#### 2-1. 채팅방 생성

- 새로운 채팅방 만들기
  - 채팅방 이름, ip, port 정보 필수

<br>

#### 2-2. 채팅방 참여

- 기존 채팅방 참여
  - ip, port 정보 필수

<br>

### 3. 메시지 송수신 기능

**사용자 간의 메시지를 실시간으로 송수신할 수 있어야 한다.**

- 채팅 입력 하면서 다수의 사용자의 메시지가 실시간으로 확인 가능해야 한다.
  - 멀티스레드
  - TCP통신 활용

<br>

### 4. 채팅방과 채팅 기록 저장

**모든 채팅 기록을 데이터베이스에 저장하여 조회할 수 있어야 한다.**

- 채팅의 기록을 볼 수 있어야 한다. -> 물론, TCP통신 이므로 DB 없이 실시간으로 볼 수 있다.
  - 단, 오라클 DB 기록! -> 추후 방장이 채팅방 다시 열 때 "불러오기"로 내역 다시 출력용
    - DB 저장을 쌓아놓고 할지 입력마다 할지 고민되긴 함.
    - 우선 귀찮으니 매번 쿼리 쏴버리자.
  - 사용자 별 채팅 구분
- **Mybatis** 추가하자.

<br>

### 5. 유저 목록 조회

**현재 채팅방에 참여 중인 사용자 목록을 표시한다.**

- 채팅에 참여중인 유저 목록 조회가 가능해야 한다.
  - TCP통신 활용 (DB 필요 없)

<br><br>

## ERD 설계

ERDCloud

<br><br>

## 화면 설계 (GUI)

4개 정도? 있으면 되겠다.

- 제일 초기 화면. id,pw 입력하는 초기 로그인 창 - index(login)
- 회원 가입 창 - register
- 채팅방 생성, 입장 선택 화면 - home
- 메시지 창(채팅방) - Messager

